<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Vazir;
	panose-1:2 11 6 3 3 8 4 2 2 4;}
@font-face
	{font-family:"Vazir Code";
	panose-1:2 11 6 9 3 0 4 0 0 0;}
@font-face
	{font-family:Sahel;
	panose-1:2 11 6 3 3 8 4 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:right;
	line-height:105%;
	direction:rtl;
	unicode-bidi:embed;
	font-size:11.0pt;
	font-family:"Vazir",sans-serif;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:right;
	line-height:105%;
	page-break-after:avoid;
	direction:rtl;
	unicode-bidi:embed;
	font-size:16.0pt;
	font-family:"Sahel",sans-serif;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:right;
	line-height:105%;
	page-break-after:avoid;
	direction:rtl;
	unicode-bidi:embed;
	font-size:14.0pt;
	font-family:"Sahel",sans-serif;
	font-weight:normal;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:right;
	line-height:105%;
	page-break-after:avoid;
	direction:rtl;
	unicode-bidi:embed;
	font-size:12.0pt;
	font-family:"Sahel",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:right;
	direction:rtl;
	unicode-bidi:embed;
	font-size:11.0pt;
	font-family:"Vazir Code";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:36.0pt;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:right;
	line-height:105%;
	direction:rtl;
	unicode-bidi:embed;
	font-size:11.0pt;
	font-family:"Vazir",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0cm;
	margin-right:36.0pt;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:105%;
	direction:rtl;
	unicode-bidi:embed;
	font-size:11.0pt;
	font-family:"Vazir",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:36.0pt;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:105%;
	direction:rtl;
	unicode-bidi:embed;
	font-size:11.0pt;
	font-family:"Vazir",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:36.0pt;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:right;
	line-height:105%;
	direction:rtl;
	unicode-bidi:embed;
	font-size:11.0pt;
	font-family:"Vazir",sans-serif;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Sahel",sans-serif;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Sahel",sans-serif;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Sahel",sans-serif;
	font-weight:bold;}
p.msonormal0, li.msonormal0, div.msonormal0
	{mso-style-name:msonormal;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
.MsoChpDefault
	{font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:72.0pt 72.0pt 72.0pt 72.0pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72">

<div class=WordSection1>

<h2 dir=RTL><span lang=FA>از کجا شروع شد؟</span></h2>

<p class=MsoNormal dir=RTL><span lang=FA>بعد از فیلترینگ گسترده تو ایران که سرویس
تلگرام جزوش بود… و حتی سرویس‌های</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span> mtproto </span><span lang=FA>و</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> shadowsocks </span><span lang=FA>شناسایی شدند،
تصمیم گرفتم که پیاده‌سازی جدیدی از</span><span dir=LTR></span><span lang=FA
dir=LTR><span dir=LTR></span> </span><span dir=LTR>shadowsocks </span><span
lang=FA>رو امتحان کنم که قابلیت ردیابیش سخت‌تر باشه. تو سناریوهای قبل، یه کلاینت
</span><span dir=LTR>shadowsocks</span><span dir=RTL></span><span lang=FA><span
dir=RTL></span> به یک سرور </span><span dir=LTR>shadowsocks</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> در خارج وصل می‌شد… تو پیاده‌سازی
جدید، یک سرویس</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>
simple-obfs </span><span lang=FA>در سمت سرور و یک سرویس</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> simple-obfs </span><span lang=FA>در سمت کلاینت
(درواقع به عنوان لایه‌های اضافه بین کلاینت و سرور </span><span dir=LTR>shadowsocks</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> قبلی) اضافه میشه… و وظیقه‌شون
اینه که انتقال داده‌ها رو شبیه پرتوکل</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span> http </span><span lang=FA>یا</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> https </span><span lang=FA>کنه. در ادامه خواهید دید
که چطور میشه سرور </span><span dir=LTR>shadowsocks</span><span dir=RTL></span><span
lang=FA><span dir=RTL></span> رو کنار یک وبسایت با آدرس</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> https </span><span lang=FA>مخفی کرد</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>.</span></p>

<h3 dir=RTL><b><span lang=FA>بخش یک: راه‌اندازی سرور</span></b></h3>

<h4 dir=RTL><span lang=FA>قدم اول: اضافه کردن شاخه‌ی</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> backports </span><span lang=FA>به </span><span
dir=LTR>sources.list</span><span dir=RTL></span><span lang=FA><span dir=RTL></span>:</span></h4>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>deb http://deb.debian.org/debian stretch-backports main
contrib non-free</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>deb-src http://deb.debian.org/debian stretch-backports
main contrib non-free</span></p>

<h4 dir=RTL><span lang=FA>قدم دوم: نصب برنامه‌های اصلی</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span>:</span></h4>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>apt-get -t stretch-backports install nginx
shadowsocks-libev pwgen</span></p>

<h4 dir=RTL><span lang=FA>قدم سوم: دریافت سورس‌کد</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> simple-obfs </span><span lang=FA>و کامپایل آن</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></h4>

<p class=MsoNormal dir=RTL><span lang=FA>من به شخصه برای کامپایل برنامه‌ها یه
کانتینر داکر مثل سیستم‌عامل مبدأ ایجاد می‌کنم تا با نصب بسته‌های اضافی که فقط یک
بار مورد استفاده قرار می‌گیرند، سیستم عامل اصلی رو کثیف نکنم… پیشنهاد می‌کنم
شما هم برای کامپایل یا بیلد همین کار رو بکنید… نهایتاً هدف اینه که فایل</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> deb </span><span lang=FA>بسازیم</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>apt-get --no-install-recommends install debhelper git
asciidoc libcork-dev libev-dev xmlto asciidoc libcork-dev libev-dev xmlto
openssl ca-certificates build-essential</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>git clone https://github.com/shadowsocks/simple-obfs</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>cd simple-obfs</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>git submodule update --init --recursive</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>dpkg-buildpackage -b</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>حاصل باید یک فایل شبیه</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>
simple-obfs_0.0.5-1_amd64.deb </span><span lang=FA>تو شاخه‌ای باشه که دستور</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> git clone </span><span
lang=FA>رو توش اجرا کردید</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span>.</span></p>

<h4 dir=RTL><span lang=FA>قدم سوم: نصب </span><span dir=LTR>simple-obfs</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span>:</span></h4>

<p class=MsoNormal dir=RTL><span lang=FA>کاری نداره</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>dpkg -i simple-obfs_0.0.5-1_amd64.deb</span></p>

<h4 dir=RTL><span lang=FA>قدم چهارم: پیکربندی </span><span dir=LTR>shadowsocks-libev</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span>:</span></h4>

<p class=MsoNormal dir=RTL><span lang=FA>بعد از قدم سوم، یک فایل تو مسیر</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>
/etc/shadowsocks-libev/config-obfs.json </span><span lang=FA>ایجاد می‌شه. این
فایل پیکربندی هست که باید جایگزین تنظیمات قبلی</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> shadowsocks-libev </span><span lang=FA>کنیم</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>mv /etc/shadowsocks-libev/config-obfs.json
/etc/shadowsocks-libev/config.json</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>و حالا فایل</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> /etc/shadowsocks-libev/config.json </span><span
lang=FA>رو ویرایش می‌کنیم</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
dir=LTR></span><span style='color:#002060'><span dir=LTR></span>{ </span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
dir=LTR></span><span style='color:#002060'><span dir=LTR></span>        
&quot;server&quot;:&quot;<span style='background:yellow'>your-server-public-IP-here</span>&quot;,
</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>         &quot;server_port&quot;:<span style='background:
yellow'>443</span>, </span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
dir=LTR></span><span style='color:#002060'><span dir=LTR></span>        
&quot;local_port&quot;:1080, </span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>         &quot;password&quot;:&quot;<span
style='background:yellow'>your-passphrase-here</span>&quot;, </span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>         &quot;timeout&quot;:60, </span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>         &quot;method&quot;:&quot;chacha20-ietf-poly1305&quot;,
</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>         &quot;mode&quot;:&quot;tcp_and_udp&quot;, </span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>         &quot;fast_open&quot;:true, </span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>         &quot;plugin&quot;:&quot;obfs-server&quot;, </span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>         &quot;plugin_opts&quot;:&quot;obfs=tls;<span
style='background:yellow'>obsf-host=bing.com</span>;failover=127.0.0.1:8443;fast-open&quot;</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>} </span></p>

<p class=MsoNormal dir=RTL><span lang=FA style='color:white'>در اینجا دقت کنید
که چهار فیلد رو تغییر دادیم</span><span dir=LTR></span><span dir=LTR
style='color:white'><span dir=LTR></span>.</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>در اینجا دقت کنید که چهار فیلد رو تغییر
دادیم. در ادامه با این چهار فیلد زیاد سروکار داریم:</span></p>

<p class=MsoListParagraphCxSpFirst dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>فیلد</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> server: </span><span lang=FA>مقدارش باید</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> IP </span><span lang=FA>عمومی
سرور یا</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span> vps </span><span
lang=FA>شما باشه… می‌تونید از </span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span>0.0.0.0</span><span dir=RTL></span><span lang=FA><span dir=RTL></span>
هم استفاده کنید که توصیه نمی‌شه</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span>.</span></p>

<p class=MsoListParagraphCxSpMiddle dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>فیلد</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> server-port: </span><span lang=FA>که باید مقدارش
رو </span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>443</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> بذارین. علتش رو در ادامه
خواهم گفت</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>.</span></p>

<p class=MsoListParagraphCxSpMiddle dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>فیلد</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> password: </span><span lang=FA>یه عبارت دلخواه که
باهاش ارتباطات شما</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>
encrypt </span><span lang=FA>می‌شه</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span>.</span></p>

<p class=MsoListParagraphCxSpLast dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>فیلد</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> plugin-opts: </span><span lang=FA>مقدار</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> obfs-host </span><span
lang=FA>داخل این استرینگ اضافه شده. توصیه میشه که از</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> hostname </span><span lang=FA>همون سرور یا یه سایت
بزرگ مثل</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>
bing.com </span><span lang=FA>استفاده کنید</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span>.</span></p>

<h4 dir=RTL><span lang=FA>توضیحات</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span>:</span></h4>

<p class=MsoNormal dir=RTL><span lang=FA>سناریوی تحریم‌شکن به این صورت هست: اگر
کسی به پورت </span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>443</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> که همانا پورت</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> https </span><span lang=FA>هست
وصل شد</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoListParagraphCxSpFirst dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>اگر رفتار یک کلاینت</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> shadowsocks </span><span
lang=FA>رو داشت، باهاش مثل کلاینت </span><span dir=LTR>shadowsocks</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> رفتار کن،</span></p>

<p class=MsoListParagraphCxSpLast dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>در غیر این صورت وانمود کن که یه
وب سرور داره روی این پورت لیسن می‌کنه</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span>!</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>پس ما نیاز داریم به یه وب‌سرور مثل</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> nginx </span><span lang=FA>که
اگر فیلترچی خواست ببینه روی پورت </span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span>443</span><span dir=RTL></span><span lang=FA><span dir=RTL></span>
ما چه خبره، با یه صفحه وب روبرو بشه. خب، به</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> nginx </span><span lang=FA>میگیم که رو یه پورت دیگه
مثل </span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>8443</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> لیسن کن… و به تحریم‌شکن میگیم
هرکس رفتار غیر عادی داشت، بفرستتش به پورت </span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span>8443</span></p>

<h4 dir=RTL><span lang=FA>قدم پنجم، پیکربندی </span><span dir=LTR>nginx</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span>:</span></h4>

<p class=MsoNormal dir=RTL><span lang=FA>اول از همه نیاز داریم به یه جفت-کلید</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> rsa </span><span lang=FA>که
همانا سرتیفیکیت صفحه وب‌سایتمون هست. اگر سرتیفیکیت آماده دارید که چه بهتر، اگر
هم نه، با دستور زیر این دو کلید رو بسازید</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>openssl req -x509 -nodes -days 3650 -newkey rsa:2048
-keyout /etc/ssl/private/ssl-cert-snakeoil.key -out
/etc/ssl/certs/ssl-cert-snakeoil.pem</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>و دوم اینکه نیاز دارید تا فایل کانفیگ</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> nginx </span><span lang=FA>رو
در مسیر</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>
/etc/nginx/sites-enabled/default </span><span lang=FA>کمی تغییر بدید</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>تو بخش</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> SSL Configuration </span><span dir=RTL></span><span
lang=FA><span dir=RTL></span>، بخش</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span> listen </span><span lang=FA>رو به این شکل تغییر بدید</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#00B050'>listen 127.0.0.1:8443 ssl default_server;</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>و خط زیر رو از حالت کامنت در بیارید</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#00B050'>include snippets/snakeoil.conf;</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>قدم ششم: اتمام راه‌اندازی سرور</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>systemctl restart nginx.service shadowsocks-libev.service</span></p>

<h3 dir=RTL><b><span lang=FA>بخش دو: تنظیمات کلاینت</span></b></h3>

<p class=MsoNormal dir=RTL><span lang=FA>امیدوارم که سرور رو با موفقیت راه
انداخته باشید. وقتشه که بتونیم گوشی‌ها و</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> pc</span><span lang=FA>هامون رو به سرور وصل کنیم.
گزینه‌هایی که دم دست هستند، </span><span dir=LTR>shadowsocks</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> نسخه ویندوز و اندروید و خط
فرمان</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span> ss-local </span><span
lang=FA>هستند که از نظر تنظیمات مشترک هستند و فقط نحوه وارد کردنشون متفاوت هست.
اینجا نحوه پیکربندی این سه مورد رو براتون توضیح دادم.</span></p>

<h4 dir=RTL><span lang=FA>تنظیم اندروید</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span>:</span></h4>

<p class=MsoNormal dir=RTL><span lang=FA>اول از همه باید برنامه‌های</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> shadowsocks </span><span
lang=FA>و</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>
simple-obfs </span><span lang=FA>رو نصب کنید.</span></p>

<p class=MsoNormal align=center dir=RTL style='text-align:center'><a
href="https://play.google.com/store/apps/details?id=com.github.shadowsocks.plugin.obfs_local&amp;hl=en"><span
dir=LTR style='color:windowtext;text-decoration:none'><img border=0 width=180
height=180 id="Picture 7" src="index_files/image001.png"></span></a><a
href="https://play.google.com/store/apps/details?id=com.github.shadowsocks&amp;hl=en"><span
dir=LTR style='color:windowtext;text-decoration:none'><img border=0 width=180
height=180 id="Picture 8" src="index_files/image002.png"></span></a></p>

<p class=MsoNormal dir=RTL><span lang=FA>بعد از اون، طبق عکس‌های زیر، تنظیمات
مربوطه رو وارد کنید</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNormal align=center dir=RTL style='text-align:center'><span
dir=LTR><img border=0 width=283 height=567 id="Picture 4"
src="index_files/image003.jpg"><img border=0 width=283 height=567 id="Picture 5"
src="index_files/image004.jpg"><img border=0 width=283 height=567 id="Picture 6"
src="index_files/image005.jpg"></span></p>

<h4 dir=RTL><span lang=FA>تنظیم </span><span dir=LTR>ss-local</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span>:</span></h4>

<p class=MsoNormal dir=RTL><span lang=FA>طبق قدم اول تا سوم پیش برید، با این
تفاوت که نیازی به نصب</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>
nginx </span><span lang=FA>ندارید. بعد از نصب موفقیت‌آمیز</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> shadowsocks-libev </span><span lang=FA>و</span><span
dir=LTR></span><span dir=LTR><span dir=LTR></span> simple-obfs </span><span
lang=FA>در سمت کلاینت، دستور زیر رو وارد کنید</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span>:</span></p>

<p class=MsoNoSpacing style='text-align:left;direction:ltr;unicode-bidi:embed'><span
style='color:#002060'>ss-local -v -s your-server-public-IP-here -p 443 -b
0.0.0.0 -l 1080 --plugin obfs-local -k your-passphrase-here -m
chacha20-ietf-poly1305 --plugin-opts &quot;obfs=tls;obsf-host=bing.com&quot; -u</span></p>

<p class=MsoNormal dir=RTL><span lang=FA>برای اطلاعات بیشتر از انواع روش‌های
بکارگیری</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>
simple-obfs </span><span lang=FA>در کنار</span><span dir=LTR></span><span
dir=LTR><span dir=LTR></span> ss-local </span><span lang=FA>می‌تونید از <a
href="https://github.com/shadowsocks/simple-obfs">این صفحه</a> و همینطور برای دیدن
مشاهده انواع گزینه‌های در دسترس برای</span><span dir=LTR></span><span dir=LTR><span
dir=LTR></span> shadowsocks-libev </span><span lang=FA>می‌تونید از <a
href="https://github.com/shadowsocks/shadowsocks-libev/blob/master/doc/shadowsocks-libev.asciidoc#config-file">این
صفحه</a> بازدید کنید</span><span dir=LTR></span><span dir=LTR><span dir=LTR></span>.</span></p>

<h4 dir=RTL><span lang=FA>تنظیم </span><span dir=LTR>shadowsocks</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> در </span><span lang=AR-SA>ویندوز</span><span
lang=FA>:</span></h4>

<p class=MsoNormal dir=RTL><span lang=FA>آخزین نسخه فایل </span><span dir=LTR>zip</span><span
dir=RTL></span><span dir=RTL></span> <span lang=FA>برنامه‌های </span><span
dir=LTR>shadowsocks</span><span lang=FA>‌ و </span><span dir=LTR>simple-obfs</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> رو از </span><span
lang=AR-SA><a href="https://github.com/shadowsocks/shadowsocks-windows/releases"><span
lang=FA>اینجا</span></a></span><span lang=FA> و </span><span lang=AR-SA><a
href="https://github.com/shadowsocks/simple-obfs/releases"><span lang=FA>اینجا</span></a></span><span
lang=FA> دانلود کنید و فایل اجراییشون رو کنار هم قرار بدید:</span></p>

<p class=MsoNormal align=center dir=RTL style='text-align:center'><span
dir=LTR><img border=0 width=374 height=242 id="Picture 1"
src="index_files/image006.png"></span></p>

<p class=MsoNormal dir=RTL><span lang=FA>و بعد اطلاعات رو طبق عکس زیر وارد کنید:</span></p>

<p class=MsoNormal align=center dir=RTL style='text-align:center'><span
dir=LTR><img border=0 width=496 height=474 id="Picture 2"
src="index_files/image007.png"></span></p>

<h3 dir=RTL><b><span lang=FA>پی‌نوشت:</span></b></h3>

<p class=MsoListParagraphCxSpFirst dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>در زمان نگارش این راهنما متوجه
شدم که راهنماهای دیگری هم مثل این تو اینترنت موجود هست. کافیه به صفحات ۲ و ۳
سرچ گوگل رجوع کنید </span></p>

<p class=MsoListParagraphCxSpMiddle dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>یه بزرگ‌مرد/بزرگ‌زن بیاد از اینا
</span><span dir=LTR>docker file</span><span dir=RTL></span><span lang=FA><span
dir=RTL></span> و </span><span dir=LTR>docker compose</span><span dir=RTL></span><span
dir=RTL></span> <span lang=FA>و همینطور </span><span dir=LTR>daemon file</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> برای </span><span dir=LTR>systemd</span><span
dir=RTL></span><span lang=FA><span dir=RTL></span> و </span><span dir=LTR>sysvinit</span><span
dir=RTL></span><span dir=RTL></span> <span lang=FA>بسازه، من حوصله ندارم </span></p>

<p class=MsoListParagraphCxSpLast dir=RTL style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span dir=RTL></span><span lang=FA>من نتونستم یه ویرایشگر </span><span
dir=LTR>WYSIWYG</span><span dir=RTL></span><span dir=RTL></span> <span lang=FA>برای
</span><span dir=LTR>HTML</span><span dir=RTL></span><span dir=RTL></span> <span
lang=FA>پیدا کنم که </span><span dir=LTR>BiDi</span><span dir=RTL></span><span
dir=RTL></span> <span lang=FA>و </span><span dir=LTR>rtl</span><span dir=RTL></span><span
lang=FA><span dir=RTL></span> رو هم ساپورت کنه. به ناچار از </span><span
dir=LTR>Microsoft Word</span><span dir=RTL></span><span lang=FA><span dir=RTL></span>
استفاده کردم. اگه می‌شناسید معرفی کنید.</span></p>

</div>

</body>

</html>
